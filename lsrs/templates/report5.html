<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Report 5</title>
    <link rel="stylesheet" href="../static/bootstrap-5.0.0-beta3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/styles.css">
</head>
<body>
	<h1>Choose a month</h1>

	<div class="page-content">
		
		<form class="row g-3" action="/report5" method="POST">    
		<div class="form-floating col-4">
			<select class="form-select" name="year_month" id="months">
				{% for item in months %}
				{% if item[0] == y and item[1] == m %} 
					<option value="{{item[0]}}/{{item[1]}}" selected > {{item[0]}}-{{'%02d' % item[1]}} </option>
				{% else %}
					<option value="{{item[0]}}/{{item[1]}}"> {{item[0]}}-{{'%02d' % item[1]}} </option>
				{% endif %}
				{% endfor %}
			</select>
			<label for="months">Choose a month:</label>
		</div>
		<div class="col-auto" style="align-self: center;">
			<input class="btn" type="submit" value="Choose">
		</div>
		</form>

		<br><br>
    
		<h1>State with Highest Volume for each Category
		{% if y and m  %}
			in {{y}}-{{'%02d' % m}}
		{% endif %}
		</h1>
		<table class="table">
		<thead>
			<tr>
				<th>Category</th>
				<th>Top sale state</th>
				<th>State total sale</th>
			</tr>
		</thead>
			{% for item in data %}
			<tr>
				<td>{{item[0]}}</td>
				<td>{{item[1]}}</td>
				<td>{{item[2] | format_number }}</td>
			</tr>
			{% endfor %}
		</table>
	</div>
    <script src="../static/bootstrap-5.0.0-beta3-dist/js/bootstrap.min.js"></script>
</body>
</html>